
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Developer documentation &#8212; NexusLIMS 2.1.2.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=af02a5b6" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=bcebe078"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'development';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'pr-19';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="canonical" href="https://datasophos.github.io/NexusLIMS/pr-19/development.html" />
    <link rel="icon" href="_static/nexusLIMS_bare_logo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Writing Extractor Plugins" href="writing_extractor_plugins.html" />
    <link rel="prev" title="Developer Guide" href="dev_guide.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.1.2.dev0" />
    <meta name="docbuild:last-update" content="Dec, 17, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo_horizontal_light.png" class="logo__image only-light" alt="NexusLIMS 2.1.2.dev0 documentation - Home"/>
    <img src="_static/logo_horizontal_dark.png" class="logo__image only-dark pst-js-only" alt="NexusLIMS 2.1.2.dev0 documentation - Home"/>
  
  
</a></div>
    
      <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    Home
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="migration.html">
    Migration Guide: v1 to v2
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="dev_guide.html">
    Developer Guide
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="reference.html">
    Reference
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/datasophos/NexusLIMS" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://datasophos.co" title="Datasophos" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-globe fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Datasophos</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    Home
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="migration.html">
    Migration Guide: v1 to v2
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="dev_guide.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="reference.html">
    Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/datasophos/NexusLIMS" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://datasophos.co" title="Datasophos" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-globe fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Datasophos</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_extractor_plugins.html">Writing Extractor Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="instrument_profiles.html">Instrument Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="uv_migration.html">Migration from Poetry to uv</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">NexusLIMS database</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_documentation.html">XML Schema Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing/integration-tests.html">Integration Testing Guide</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="dev_guide.html" class="nav-link">Developer Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Developer documentation</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="developer-documentation">
<span id="development"></span><h1>Developer documentation<a class="headerlink" href="#developer-documentation" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Last</span> <span class="pre">updated:</span> <span class="pre">December</span> <span class="pre">2025</span></code></p>
<p>If you are interested in learning about how the NexusLIMS back-end works or
adding new features, these instructions should get you up and running with a
development environment that will allow you to modify how the code operates.</p>
<p>Currently, running the NexusLIMS record building back-end code is only
supported and tested on Linux. It may run on MacOS or other UNIX environments,
but is known for sure not to work on Windows due to some specific
implementation choices.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h2>
<p>NexusLIMS uses the <a class="reference external" href="https://docs.astral.sh/uv/">uv</a> framework
to manage dependencies and create reproducible deployments. This means that
installing the <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> package will require
<a class="reference external" href="https://docs.astral.sh/uv/getting-started/installation/">installing</a>
<code class="docutils literal notranslate"><span class="pre">uv</span></code>. <code class="docutils literal notranslate"><span class="pre">uv</span></code> will automatically manage Python versions for you, so you don’t need
to install Python separately. NexusLIMS requires Python 3.11 or 3.12.
Installing <code class="docutils literal notranslate"><span class="pre">uv</span></code> is usually as simple as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-LsSf<span class="w"> </span>https://astral.sh/uv/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</pre></div>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Never run code downloaded straight from the internet just because someone
tells you to! Make sure to download and inspect the script to ensure it
doesn’t do anything nasty before you run it.</p>
</div>
<p>Once <code class="docutils literal notranslate"><span class="pre">uv</span></code> is installed, clone the NexusLIMS <a class="reference external" href="https://github.com/datasophos/NexusLIMS">repository</a> using <code class="docutils literal notranslate"><span class="pre">git</span></code>,
and then change to the root folder of the repository. Running the following
<code class="docutils literal notranslate"><span class="pre">sync</span></code>  command will make <code class="docutils literal notranslate"><span class="pre">uv</span></code> install the dependencies specified
in the <code class="docutils literal notranslate"><span class="pre">uv.lock</span></code> file into a local python virtual environment (so they
don’t interfere with other Python installations on your system). It will also
install the <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> Python package in “editable” mode so you can make
changes locally for development purposes and still run things.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>sync<span class="w"> </span>--extra<span class="w"> </span>dev
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">uv</span></code> automatically creates virtual environments in a local <code class="docutils literal notranslate"><span class="pre">.venv</span></code> folder
by default, keeping all project files in one directory. This eliminates the need
for additional configuration that was required with other package managers.
To see information about your current environment, you can run
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">uv</span> <span class="pre">python</span> <span class="pre">list</span></code> to see available Python versions or <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">uv</span> <span class="pre">pip</span> <span class="pre">list</span></code>
to see installed packages. This approach keeps the project
files all in one directory, rather than having the Python virtualenv in your
user folder somewhere else on the system. <code class="docutils literal notranslate"><span class="pre">uv</span></code> manages this automatically
without requiring additional configuration.</p>
</div>
</section>
<section id="setting-up-the-environment">
<h2>Setting up the environment<a class="headerlink" href="#setting-up-the-environment" title="Link to this heading">#</a></h2>
<p>To interact with the remote systems from which NexusLIMS harvests information,
it is necessary to provide credentials for authentication and the paths in which
to search for new data files and where to write dataset previews, as well as
the path to the <a class="reference internal" href="database.html"><span class="doc">NexusLIMS database</span></a>.
These values should be set by copying the <code class="docutils literal notranslate"><span class="pre">.env.example</span></code> file from the git
repository into a file named <code class="docutils literal notranslate"><span class="pre">.env</span></code> in the base directory (in the same folder
as the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> and <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> files).
<code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> makes use of the
<a class="reference external" href="https://pypi.org/project/python-dotenv/">dotenv</a> library to dynamically
load variables from this file when running any <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> code.
As an example, the  <code class="docutils literal notranslate"><span class="pre">.env</span></code> file content should look something like the
following (substituting real credentials, of course). See the
environment variables <a class="reference internal" href="api/nexusLIMS/nexusLIMS.html#nexuslims-user"><span class="std std-ref">documentation</span></a> for more
details.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">NX_CDCS_USER</span><span class="o">=</span><span class="s1">&#39;username&#39;</span>
<span class="nv">NX_CDCS_PASS</span><span class="o">=</span><span class="s1">&#39;password&#39;</span>
<span class="nv">NX_INSTRUMENT_DATA_PATH</span><span class="o">=</span><span class="s1">&#39;/path/to/mmfnexus/mount&#39;</span>
<span class="nv">NX_DATA_PATH</span><span class="o">=</span><span class="s1">&#39;/path/to/nexusLIMS/mount/mmfnexus&#39;</span>
<span class="nv">NX_DB_PATH</span><span class="o">=</span><span class="s1">&#39;/path/to/nexusLIMS/nexuslims_db.sqlite&#39;</span>
<span class="nv">NX_NEMO_ADDRESS_1</span><span class="o">=</span><span class="s1">&#39;https://path.to.nemo.com/api/&#39;</span>
<span class="nv">NX_NEMO_TOKEN_1</span><span class="o">=</span><span class="s1">&#39;authentication_token&#39;</span>
<span class="nv">NX_NEMO_STRFTIME_FMT_1</span><span class="o">=</span><span class="s2">&quot;%Y-%m-%dT%H:%M:%S%z&quot;</span>
<span class="nv">NX_NEMO_STRPTIME_FMT_1</span><span class="o">=</span><span class="s2">&quot;%Y-%m-%dT%H:%M:%S%z&quot;</span>
<span class="nv">NX_NEMO_TZ_1</span><span class="o">=</span><span class="s2">&quot;America/New_York&quot;</span>
</pre></div>
</div>
<p>Rather than using the <code class="docutils literal notranslate"><span class="pre">.env</span></code> file, each of these variables could also be set
in the environment some other way if you desire. For example, to use Gitlab
CI/CD tools, you would set these variables in your project’s CI/CD settings
(see <a class="reference external" href="https://docs.gitlab.com/ee/ci/variables/">their documentation</a>),
since you would not want to commit a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file into a remote repository
that contains authorization secrets (the equivalent is available in Github,
as well).</p>
</section>
<section id="getting-into-the-environment">
<h2>Getting into the environment<a class="headerlink" href="#getting-into-the-environment" title="Link to this heading">#</a></h2>
<p>Once the package is installed using <code class="docutils literal notranslate"><span class="pre">uv</span></code>, the code can be used
like any other Python library within the resulting virtual environment.</p>
<p><code class="docutils literal notranslate"><span class="pre">uv</span></code> allows you to run a single command inside that environment by
using the <code class="docutils literal notranslate"><span class="pre">uv</span> <span class="pre">run</span></code> command from the repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>python
</pre></div>
</div>
<p>To use other commands in the NexusLIMS environment, you can also “activate”
the environment using the <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">source</span> <span class="pre">.venv/bin/activate</span></code> command from within the cloned
repository. This will activate the virtual environment that ensures all commands will have
access to the installed packages and environment variables set appropriately.</p>
</section>
<section id="pre-commit-hooks">
<h2>Pre-commit Hooks<a class="headerlink" href="#pre-commit-hooks" title="Link to this heading">#</a></h2>
<p>To ensure code quality and consistency, NexusLIMS uses <a class="reference external" href="https://pre-commit.com/">pre-commit</a> hooks that automatically run linting checks before each commit. This prevents commits with linting errors from being pushed to the repository.</p>
<section id="installing-pre-commit-hooks">
<h3>Installing Pre-commit Hooks<a class="headerlink" href="#installing-pre-commit-hooks" title="Link to this heading">#</a></h3>
<p>Pre-commit is included as a dev dependency, so it’s already installed when you run <code class="docutils literal notranslate"><span class="pre">uv</span> <span class="pre">sync</span> <span class="pre">--extra</span> <span class="pre">dev</span></code>. To set up the git hooks:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pre-commit<span class="w"> </span>install
</pre></div>
</div>
<p>From now on, linting checks will run automatically whenever you attempt to commit code. If linting errors are found, the commit will be blocked until you fix them.</p>
</section>
<section id="running-pre-commit-manually">
<h3>Running Pre-commit Manually<a class="headerlink" href="#running-pre-commit-manually" title="Link to this heading">#</a></h3>
<p>To run linting checks on all files without committing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pre-commit<span class="w"> </span>run<span class="w"> </span>--all-files
</pre></div>
</div>
<p>To run checks on specific files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pre-commit<span class="w"> </span>run<span class="w"> </span>--files<span class="w"> </span>&lt;file1&gt;<span class="w"> </span>&lt;file2&gt;
</pre></div>
</div>
</section>
<section id="bypassing-pre-commit-not-recommended">
<h3>Bypassing Pre-commit (Not Recommended)<a class="headerlink" href="#bypassing-pre-commit-not-recommended" title="Link to this heading">#</a></h3>
<p>If you need to bypass the pre-commit hooks in exceptional cases:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>--no-verify
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only use <code class="docutils literal notranslate"><span class="pre">--no-verify</span></code> in exceptional cases. Pre-commit hooks exist to maintain code quality standards across the project.</p>
</div>
</section>
</section>
<section id="testing-and-documentation">
<h2>Testing and Documentation<a class="headerlink" href="#testing-and-documentation" title="Link to this heading">#</a></h2>
<section id="unit-testing">
<h3>Unit Testing<a class="headerlink" href="#unit-testing" title="Link to this heading">#</a></h3>
<p>To run the complete unit test suite, use the provided shell script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/run_tests.sh
</pre></div>
</div>
<p>This will run all tests with coverage reporting. To run specific tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/test_extractors.py
</pre></div>
</div>
<p>To run a specific test:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/test_extractors.py::TestClassName::test_method_name
</pre></div>
</div>
<p>To generate matplotlib baseline figures for image comparison tests, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/generate_mpl_baseline.sh
</pre></div>
</div>
</section>
<section id="integration-testing">
<h3>Integration Testing<a class="headerlink" href="#integration-testing" title="Link to this heading">#</a></h3>
<p>Integration tests validate end-to-end workflows using real Docker services (NEMO, CDCS, PostgreSQL, etc.) instead of mocks. These tests ensure the complete system works together correctly.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># run unit and integration tests together using the included script (requires Docker)</span>
$<span class="w"> </span>./scripts/run_tests.sh<span class="w"> </span>--integration

<span class="c1"># Run integration tests (requires Docker)</span>
$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/integration/<span class="w"> </span>-v<span class="w"> </span>-m<span class="w"> </span>integration

<span class="c1"># Run with coverage</span>
$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/integration/<span class="w"> </span>-v<span class="w"> </span>-m<span class="w"> </span>integration<span class="w"> </span>--cov<span class="o">=</span>nexusLIMS
</pre></div>
</div>
<p>For detailed information about integration testing, setup, architecture, and best practices, see the <a class="reference internal" href="testing/integration-tests.html"><span class="doc">Integration Testing Guide</span></a>.</p>
<p><strong>Note:</strong> Integration tests require Docker and Docker Compose to be installed and running. Unit tests do not require Docker and can be run independently.</p>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">#</a></h3>
<p>To build the documentation for the project, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/build_docs.sh
</pre></div>
</div>
<p>The documentation will then be present in the <code class="docutils literal notranslate"><span class="pre">./_build/</span></code> directory.</p>
</section>
</section>
<section id="building-new-records">
<h2>Building new records<a class="headerlink" href="#building-new-records" title="Link to this heading">#</a></h2>
<p>The most basic feature of the NexusLIMS back-end is to check the
<a class="reference internal" href="database.html"><span class="doc">database</span></a> for any logs (typically inserted by the
NEMO harvester) with a status of
<code class="docutils literal notranslate"><span class="pre">'TO_BE_BUILT'</span></code>. This can be accomplished simply by running the
<a class="reference internal" href="api/nexusLIMS/nexusLIMS.builder.record_builder.html#module-nexusLIMS.builder.record_builder" title="nexusLIMS.builder.record_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">record_builder</span></code></a> module directly via:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>nexuslims-process-records
</pre></div>
</div>
<p>This command will find any records that need to be built, build their .xml
files, and then upload them to the front-end CDCS instance. Consult the
record building <a class="reference internal" href="record_building.html"><span class="doc">documentation</span></a> for more details.</p>
</section>
<section id="using-other-features-of-the-library">
<h2>Using other features of the library<a class="headerlink" href="#using-other-features-of-the-library" title="Link to this heading">#</a></h2>
<p>Once you are in a python interpreter (such as <code class="docutils literal notranslate"><span class="pre">python</span></code>, <code class="docutils literal notranslate"><span class="pre">ipython</span></code>,
<code class="docutils literal notranslate"><span class="pre">jupyter</span></code>, etc.) from the <code class="docutils literal notranslate"><span class="pre">uv</span></code> environment, you can access the
code of this library through the <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> package if you want to do other
tasks, such as extracting metadata or building previews images, etc.</p>
<p>For example, to extract the metadata from a <code class="docutils literal notranslate"><span class="pre">.tif</span></code> file saved on the
FEI Quanta, run the following code using the
<a class="reference internal" href="api/nexusLIMS/nexusLIMS.extractors.plugins.quanta_tif.html#nexusLIMS.extractors.plugins.quanta_tif.get_quanta_metadata" title="nexusLIMS.extractors.plugins.quanta_tif.get_quanta_metadata"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_quanta_metadata()</span></code></a> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">nexusLIMS.extractors.plugins.quanta_tif</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_quanta_metadata</span>
<span class="n">meta</span> <span class="o">=</span> <span class="n">get_quanta_metadata</span><span class="p">(</span><span class="s2">&quot;path_to_file.tif&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">meta</span></code> variable will then contain a dictionary with the extracted
metadata from the file.</p>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">#</a></h2>
<p>To contribute, please fork the repository, develop your addition on a
<a class="reference external" href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow">feature branch</a>
within your forked repo, and submit a pull request to the <code class="docutils literal notranslate"><span class="pre">main</span></code>
branch to have it included in the project. Contributing to the package
requires that every line of code is covered by a test case. This project uses
testing through the <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a> library,
and features that do not pass the test cases or decrease coverage will not be
accepted until suitable tests are included (see the <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory
for examples) and that the coverage of any new features is 100%.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the public version of this repository, the included tests will not run
due to the exclusion of test files and the expectation of certain files being
present. If you are contributing, please make sure <code class="docutils literal notranslate"><span class="pre">your</span> <span class="pre">changes</span></code> are covered
by tests, and the NexusLIMS developers will take care of integrating your
PR fully in the code after it is accepted.</p>
</div>
<p>To get information about test coverage, you can use an IDE that includes coverage tracking
(such as <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a>) or include the
<code class="docutils literal notranslate"><span class="pre">--cov</span></code> flag when running the tests. To test the preview image generation,
the <code class="docutils literal notranslate"><span class="pre">--mpl</span></code> option should also be provided, together with the path to
the “reference” images that are tested against. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>&lt;path_to_repo&gt;
$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>./scripts/run_tests.sh

<span class="c1"># =============================================== test session starts =========================</span>
<span class="c1"># platform darwin -- Python 3.11.14, pytest-9.0.1, pluggy-1.6.0</span>
<span class="c1"># Matplotlib: 3.10.7</span>
<span class="c1"># Freetype: 2.6.1</span>
<span class="c1"># rootdir: /Users/josh/git_repos/datasophos/NexusLIMS</span>
<span class="c1"># configfile: pyproject.toml</span>
<span class="c1"># plugins: mpl-0.17.0, cov-7.0.0</span>
<span class="c1"># collected 303 items</span>
<span class="c1">#</span>
<span class="c1"># tests/cli/test_process_records.py ............................                         [  9%]</span>
<span class="c1"># tests/test___init__.py ........                                                        [ 11%]</span>
<span class="c1"># tests/test___main__.py .                                                               [ 12%]</span>
<span class="c1"># tests/test_cdcs.py .......                                                             [ 14%]</span>
<span class="c1"># tests/test_config.py ...................                                               [ 20%]</span>
<span class="c1"># tests/test_extractors/test_basic_metadata.py ..                                        [ 21%]</span>
<span class="c1"># tests/test_extractors/test_digital_micrograph.py .........                             [ 24%]</span>
<span class="c1"># tests/test_extractors/test_edax.py ..                                                  [ 25%]</span>
<span class="c1"># tests/test_extractors/test_extractor_module.py .................                       [ 30%]</span>
<span class="c1"># tests/test_extractors/test_fei_emi.py ........................                         [ 38%]</span>
<span class="c1"># tests/test_extractors/test_quanta_tif.py ......                                        [ 40%]</span>
<span class="c1"># tests/test_extractors/test_thumbnail_generator.py ...............................      [ 50%]</span>
<span class="c1"># tests/test_harvesters/test_nemo_api.py .........................................       [ 64%]</span>
<span class="c1"># tests/test_harvesters/test_nemo_connector.py ..............                            [ 68%]</span>
<span class="c1"># tests/test_harvesters/test_nemo_utils.py .........                                     [ 71%]</span>
<span class="c1"># tests/test_harvesters/test_reservation_event.py ......                                 [ 73%]</span>
<span class="c1"># tests/test_instruments.py .................                                            [ 79%]</span>
<span class="c1"># tests/test_record_builder/test_activity.py ........                                    [ 82%]</span>
<span class="c1"># tests/test_record_builder/test_record_builder.py ......................                [ 89%]</span>
<span class="c1"># tests/test_sessions.py ......                                                          [ 91%]</span>
<span class="c1"># tests/test_utils.py .........................                                          [ 99%]</span>
<span class="c1"># tests/test_version.py .                                                                [100%]</span>
<span class="c1">#                                                                                        [100%]</span>
<span class="c1"># =============================================== tests coverage ==============================</span>
<span class="c1"># _____________________________ coverage: platform darwin, python 3.11.14-final-0 _____________</span>
<span class="c1">#</span>
<span class="c1"># Name                                          Stmts   Miss  Cover   Missing</span>
<span class="c1"># ---------------------------------------------------------------------------</span>
<span class="c1"># nexusLIMS/__init__.py                            18      0   100%</span>
<span class="c1"># nexusLIMS/__main__.py                             3      0   100%</span>
<span class="c1"># nexusLIMS/builder/__init__.py                     0      0   100%</span>
<span class="c1"># nexusLIMS/builder/record_builder.py             197      0   100%</span>
<span class="c1"># nexusLIMS/cdcs.py                                73      0   100%</span>
<span class="c1"># nexusLIMS/cli/__init__.py                         0      0   100%</span>
<span class="c1"># nexusLIMS/cli/process_records.py                129      0   100%</span>
<span class="c1"># nexusLIMS/config.py                             153      0   100%</span>
<span class="c1"># nexusLIMS/db/__init__.py                          7      0   100%</span>
<span class="c1"># nexusLIMS/db/session_handler.py                  89      0   100%</span>
<span class="c1"># nexusLIMS/extractors/__init__.py                103      0   100%</span>
<span class="c1"># nexusLIMS/extractors/basic_metadata.py           14      0   100%</span>
<span class="c1"># nexusLIMS/extractors/digital_micrograph.py      278      0   100%</span>
<span class="c1"># nexusLIMS/extractors/edax.py                     33      0   100%</span>
<span class="c1"># nexusLIMS/extractors/fei_emi.py                 200      0   100%</span>
<span class="c1"># nexusLIMS/extractors/plugins/quanta_tif.py              237      0   100%</span>
<span class="c1"># nexusLIMS/extractors/plugins/preview_generators/*       402      0   100%</span>
<span class="c1"># nexusLIMS/extractors/utils.py                   163      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/__init__.py                  5      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/__init__.py            33      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/connector.py          244      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/exceptions.py           2      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/utils.py               68      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/reservation_event.py       130      0   100%</span>
<span class="c1"># nexusLIMS/instruments.py                         91      0   100%</span>
<span class="c1"># nexusLIMS/schemas/__init__.py                     0      0   100%</span>
<span class="c1"># nexusLIMS/schemas/activity.py                   173      0   100%</span>
<span class="c1"># nexusLIMS/utils.py                              240      0   100%</span>
<span class="c1"># nexusLIMS/version.py                              2      0   100%</span>
<span class="c1"># ---------------------------------------------------------------------------</span>
<span class="c1"># TOTAL                                          3087      0   100%</span>
<span class="c1"># Coverage HTML written to dir tests/coverage</span>
<span class="c1"># Coverage XML written to file coverage.xml</span>
<span class="c1"># ============================= 303 passed in 33.51s =================</span>
<span class="c1"># &gt;&gt;&gt; elapsed time 39s</span>
</pre></div>
</div>
</section>
<section id="release-process">
<h2>Release Process<a class="headerlink" href="#release-process" title="Link to this heading">#</a></h2>
<p>This section describes how to create a new release of NexusLIMS.</p>
<section id="quick-start">
<h3>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading">#</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standard release</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0

<span class="c1"># Preview what will happen (dry-run)</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.1<span class="w"> </span>--dry-run

<span class="c1"># Auto-approve prompts</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.2<span class="w"> </span>--yes
</pre></div>
</div>
</section>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Clean working directory</strong>: Commit or stash any uncommitted changes</p></li>
<li><p><strong>Towncrier fragments</strong>: Add changelog fragments to <code class="docutils literal notranslate"><span class="pre">docs/changes/</span></code> for all changes since last release</p></li>
<li><p><strong>Branch</strong>: Typically on <code class="docutils literal notranslate"><span class="pre">main</span></code> branch (or your release branch)</p></li>
<li><p><strong>Tests passing</strong>: Ensure all tests pass with <code class="docutils literal notranslate"><span class="pre">./scripts/run_tests.sh</span></code></p></li>
<li><p><strong>Linting passing</strong>: Ensure linting passes with <code class="docutils literal notranslate"><span class="pre">./scripts/run_lint.sh</span></code></p></li>
</ol>
</section>
<section id="creating-towncrier-fragments">
<h3>Creating Towncrier Fragments<a class="headerlink" href="#creating-towncrier-fragments" title="Link to this heading">#</a></h3>
<p>Before releasing, create changelog fragments for all notable changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fragment naming: &lt;number&gt;.&lt;type&gt;.rst or +&lt;number&gt;.&lt;type&gt;.rst</span>
<span class="c1"># Use &lt;number&gt; to link to GitHub issue #&lt;number&gt;</span>
<span class="c1"># Use +&lt;number&gt; for fragments without issue links</span>
<span class="c1"># Types: feature, bugfix, enhancement, doc, misc, removal</span>

<span class="c1"># Example fragments:</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Added new NEMO harvester for multi-instance support&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>docs/changes/42.feature.rst
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Fixed metadata extraction for FEI TIFF files&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>docs/changes/43.bugfix.rst
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Improved performance of file clustering algorithm&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>docs/changes/+44.enhancement.rst
</pre></div>
</div>
<p>Fragment types correspond to sections in the changelog:</p>
<ul class="simple">
<li><p><strong>feature</strong>: New features</p></li>
<li><p><strong>bugfix</strong>: Bug fixes</p></li>
<li><p><strong>enhancement</strong>: Enhancements</p></li>
<li><p><strong>doc</strong>: Documentation improvements</p></li>
<li><p><strong>misc</strong>: Miscellaneous/Development changes</p></li>
<li><p><strong>removal</strong>: Deprecations and/or Removals</p></li>
</ul>
</section>
<section id="release-workflow">
<h3>Release Workflow<a class="headerlink" href="#release-workflow" title="Link to this heading">#</a></h3>
<section id="prepare-the-release">
<h4>1. Prepare the Release<a class="headerlink" href="#prepare-the-release" title="Link to this heading">#</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ensure you&#39;re on the correct branch</span>
git<span class="w"> </span>checkout<span class="w"> </span>main
git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main

<span class="c1"># Run tests</span>
./scripts/run_tests.sh

<span class="c1"># Run linting</span>
./scripts/run_lint.sh

<span class="c1"># Preview the changelog</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span>--draft
</pre></div>
</div>
</section>
<section id="create-the-release">
<h4>2. Create the Release<a class="headerlink" href="#create-the-release" title="Link to this heading">#</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Interactive release (recommended for first time)</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0

<span class="c1"># Or with auto-confirmation</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span>--yes
</pre></div>
</div>
<p>The script will:</p>
<ol class="arabic simple">
<li><p>✓ Update version in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></li>
<li><p>✓ Generate changelog from towncrier fragments (adds to <code class="docutils literal notranslate"><span class="pre">docs/development_log.rst</span></code>)</p></li>
<li><p>✓ Delete consumed changelog fragments</p></li>
<li><p>✓ Commit changes</p></li>
<li><p>✓ Create git tag <code class="docutils literal notranslate"><span class="pre">v2.0.0</span></code></p></li>
<li><p>✓ Push to remote (with confirmation)</p></li>
</ol>
</section>
<section id="monitor-automated-process">
<h4>3. Monitor Automated Process<a class="headerlink" href="#monitor-automated-process" title="Link to this heading">#</a></h4>
<p>Once the tag is pushed, GitHub Actions automatically:</p>
<ol class="arabic simple">
<li><p>Builds distribution packages (wheel and sdist)</p></li>
<li><p>Publishes to PyPI</p></li>
<li><p>Creates GitHub Release with auto-generated notes</p></li>
<li><p>Deploys versioned documentation to GitHub Pages</p></li>
</ol>
<p>Monitor progress at: https://github.com/datasophos/NexusLIMS/actions</p>
</section>
</section>
<section id="script-options">
<h3>Script Options<a class="headerlink" href="#script-options" title="Link to this heading">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./scripts/release.sh [VERSION] [OPTIONS]

Options:
  -h, --help    Show help message
  -d, --dry-run Run without making changes (preview only)
  -y, --yes     Skip confirmation prompts
  --no-push     Don&#39;t push to remote (tag locally only)
  --draft       Generate draft changelog without committing
</pre></div>
</div>
</section>
<section id="common-scenarios">
<h3>Common Scenarios<a class="headerlink" href="#common-scenarios" title="Link to this heading">#</a></h3>
<p><strong>Preview release without making changes:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span>--dry-run
</pre></div>
</div>
<p><strong>Create local tag without pushing (for testing):</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span>--no-push
</pre></div>
</div>
<p><strong>Generate changelog preview only:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span>--draft
</pre></div>
</div>
<p><strong>Quick release with no prompts:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span>--yes
</pre></div>
</div>
</section>
<section id="version-numbering">
<h3>Version Numbering<a class="headerlink" href="#version-numbering" title="Link to this heading">#</a></h3>
<p>Follow <a class="reference external" href="https://semver.org/">Semantic Versioning</a>:</p>
<ul class="simple">
<li><p><strong>Major</strong> (X.0.0): Breaking changes, incompatible API changes</p></li>
<li><p><strong>Minor</strong> (x.Y.0): New features, backwards-compatible</p></li>
<li><p><strong>Patch</strong> (x.y.Z): Bug fixes, backwards-compatible</p></li>
</ul>
<p>Pre-release versions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2.0.0-alpha1</span></code>: Alpha releases</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.0.0-beta1</span></code>: Beta releases</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.0.0-rc1</span></code>: Release candidates</p></li>
</ul>
</section>
<section id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h3>
<section id="working-directory-is-not-clean">
<h4>“Working directory is not clean”<a class="headerlink" href="#working-directory-is-not-clean" title="Link to this heading">#</a></h4>
<p>Commit or stash your changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
git<span class="w"> </span>add<span class="w"> </span>.
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Your changes&quot;</span>
</pre></div>
</div>
</section>
<section id="no-towncrier-fragments-found">
<h4>“No towncrier fragments found”<a class="headerlink" href="#no-towncrier-fragments-found" title="Link to this heading">#</a></h4>
<p>Add at least one changelog fragment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Your change description&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>docs/changes/+1.misc.rst
</pre></div>
</div>
</section>
<section id="need-to-fix-a-release-tag">
<h4>Need to fix a release tag<a class="headerlink" href="#need-to-fix-a-release-tag" title="Link to this heading">#</a></h4>
<p>If you need to redo a release:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Delete local tag</span>
git<span class="w"> </span>tag<span class="w"> </span>-d<span class="w"> </span>v2.0.0

<span class="c1"># Delete remote tag (CAUTION!)</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>:refs/tags/v2.0.0

<span class="c1"># Re-run release script</span>
./scripts/release.sh<span class="w"> </span><span class="m">2</span>.0.0
</pre></div>
</div>
</section>
<section id="release-workflow-failed-on-github">
<h4>Release workflow failed on GitHub<a class="headerlink" href="#release-workflow-failed-on-github" title="Link to this heading">#</a></h4>
<p>Check the Actions tab for error details. Common issues:</p>
<ul class="simple">
<li><p>PyPI credentials not configured (requires trusted publishing setup)</p></li>
<li><p>Package build errors (test locally with <code class="docutils literal notranslate"><span class="pre">uv</span> <span class="pre">build</span></code>)</p></li>
<li><p>Documentation build errors (test with <code class="docutils literal notranslate"><span class="pre">./scripts/build_docs.sh</span></code>)</p></li>
</ul>
</section>
</section>
<section id="manual-release-without-script">
<h3>Manual Release (Without Script)<a class="headerlink" href="#manual-release-without-script" title="Link to this heading">#</a></h3>
<p>If you need to release manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Update version</span>
sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/version = &quot;.*&quot;/version = &quot;2.0.0&quot;/&#39;</span><span class="w"> </span>pyproject.toml

<span class="c1"># 2. Generate changelog</span>
uv<span class="w"> </span>run<span class="w"> </span>towncrier<span class="w"> </span>build<span class="w"> </span>--version<span class="o">=</span><span class="m">2</span>.0.0<span class="w"> </span>--yes

<span class="c1"># 3. Commit and tag</span>
git<span class="w"> </span>add<span class="w"> </span>pyproject.toml<span class="w"> </span>docs/
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Release v2.0.0&quot;</span>
git<span class="w"> </span>tag<span class="w"> </span>-a<span class="w"> </span>v2.0.0<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Release 2.0.0&quot;</span>

<span class="c1"># 4. Push</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>v2.0.0
</pre></div>
</div>
</section>
<section id="post-release-checklist">
<h3>Post-Release Checklist<a class="headerlink" href="#post-release-checklist" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Verify package on PyPI: https://pypi.org/project/nexusLIMS/</p></li>
<li><p>Check GitHub Release: https://github.com/datasophos/NexusLIMS/releases</p></li>
<li><p>Verify documentation: https://datasophos.github.io/NexusLIMS/stable/</p></li>
<li><p>Test installation: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">nexusLIMS==2.0.0</span></code></p></li>
<li><p>Announce release (if applicable)</p></li>
<li><p>Update dependent projects/deployments</p></li>
</ul>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dev_guide.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Developer Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="writing_extractor_plugins.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Writing Extractor Plugins</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-the-environment">Setting up the environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-into-the-environment">Getting into the environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-commit-hooks">Pre-commit Hooks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-pre-commit-hooks">Installing Pre-commit Hooks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-pre-commit-manually">Running Pre-commit Manually</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bypassing-pre-commit-not-recommended">Bypassing Pre-commit (Not Recommended)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-and-documentation">Testing and Documentation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unit-testing">Unit Testing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#integration-testing">Integration Testing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-new-records">Building new records</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-other-features-of-the-library">Using other features of the library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contributing">Contributing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-process">Release Process</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start">Quick Start</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-towncrier-fragments">Creating Towncrier Fragments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#release-workflow">Release Workflow</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#prepare-the-release">1. Prepare the Release</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-the-release">2. Create the Release</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monitor-automated-process">3. Monitor Automated Process</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#script-options">Script Options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#common-scenarios">Common Scenarios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-numbering">Version Numbering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#working-directory-is-not-clean">“Working directory is not clean”</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#no-towncrier-fragments-found">“No towncrier fragments found”</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#need-to-fix-a-release-tag">Need to fix a release tag</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#release-workflow-failed-on-github">Release workflow failed on GitHub</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-release-without-script">Manual Release (Without Script)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#post-release-checklist">Post-Release Checklist</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/development.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, datasophos, LLC.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>