# Caddyfile for NexusLIMS test environment reverse proxy

# NEMO service
http://nemo.localhost {
    reverse_proxy nemo:8000 {
        # Forward headers needed for Django
        header_up X-Forwarded-Proto {scheme}
        header_up X-Forwarded-Host {host}
        header_up X-Forwarded-For {remote}
    }
}

# CDCS service
http://cdcs.localhost {
    reverse_proxy cdcs:8080 {
        # Forward headers needed for Django
        header_up X-Forwarded-Proto {scheme}
        header_up X-Forwarded-Host {host}
        header_up X-Forwarded-For {remote}
    }
}

# Fileserver
http://fileserver.localhost {
    reverse_proxy fileserver:80
}
