
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Developer documentation &#8212; NexusLIMS 2.0.0a0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=cabef9d0" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=30372d7b"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'development';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.0.0a0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="icon" href="_static/nexusLIMS_bare_logo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="NexusLIMS database" href="database.html" />
    <link rel="prev" title="Developer Guide" href="dev_guide.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.0.0a0" />
    <meta name="docbuild:last-update" content="Dec, 06, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo_horizontal_light.png" class="logo__image only-light" alt="NexusLIMS 2.0.0a0 documentation - Home"/>
    <img src="_static/logo_horizontal_dark.png" class="logo__image only-dark pst-js-only" alt="NexusLIMS 2.0.0a0 documentation - Home"/>
  
  
</a></div>
    
      <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    Home
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="dev_guide.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="reference.html">
    Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/datasophos/NexusLIMS" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://datasophos.co" title="Datasophos" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-globe fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Datasophos</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    Home
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="dev_guide.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="reference.html">
    Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/datasophos/NexusLIMS" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://datasophos.co" title="Datasophos" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-globe fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Datasophos</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">NexusLIMS database</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_documentation.html">Schema documentation</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="dev_guide.html" class="nav-link">Developer Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Developer documentation</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="developer-documentation">
<h1>Developer documentation<a class="headerlink" href="#developer-documentation" title="Link to this heading">#</a></h1>
<blockquote>
<div><p><cite>Last updated: December 2025</cite></p>
</div></blockquote>
<p>If you are interested in learning about how the NexusLIMS back-end works or
adding new features, these instructions should get you up and running with a
development environment that will allow you to modify how the code operates.</p>
<p>Currently, running the NexusLIMS record building back-end code is only
supported and tested on Linux. It may run on MacOS or other UNIX environments,
but is known for sure not to work on Windows due to some specific
implementation choices.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h2>
<p>NexusLIMS uses the <a class="reference external" href="https://docs.astral.sh/uv/">uv</a> framework
to manage dependencies and create reproducible deployments. This means that
installing the <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> package will require
<a class="reference external" href="https://docs.astral.sh/uv/getting-started/installation/">installing</a>
<code class="docutils literal notranslate"><span class="pre">uv</span></code>. <code class="docutils literal notranslate"><span class="pre">uv</span></code> will automatically manage Python versions for you, so you don’t need
to install Python separately. NexusLIMS requires Python 3.11 or 3.12.
Installing <code class="docutils literal notranslate"><span class="pre">uv</span></code> is usually as simple as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-LsSf<span class="w"> </span>https://astral.sh/uv/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</pre></div>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Never run code downloaded straight from the internet just because someone
tells you to! Make sure to download and inspect the script to ensure it
doesn’t do anything nasty before you run it.</p>
</div>
<p>Once <code class="docutils literal notranslate"><span class="pre">uv</span></code> is installed, clone the NexusLIMS <a class="reference external" href="https://github.com/datasophos/NexusLIMS">repository</a> using <code class="docutils literal notranslate"><span class="pre">git</span></code>,
and then change to the root folder of the repository. Running the following
<code class="docutils literal notranslate"><span class="pre">sync</span></code>  command will make <code class="docutils literal notranslate"><span class="pre">uv</span></code> install the dependencies specified
in the <code class="docutils literal notranslate"><span class="pre">uv.lock</span></code> file into a local python virtual environment (so they
don’t interfere with other Python installations on your system). It will also
install the <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> Python package in “editable” mode so you can make
changes locally for development purposes and still run things.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>sync<span class="w"> </span>--extra<span class="w"> </span>dev
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">uv</span></code> automatically creates virtual environments in a local <code class="docutils literal notranslate"><span class="pre">.venv</span></code> folder
by default, keeping all project files in one directory. This eliminates the need
for additional configuration that was required with other package managers.
To see information about your current environment, you can run
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">uv</span> <span class="pre">python</span> <span class="pre">list</span></code> to see available Python versions or <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">uv</span> <span class="pre">pip</span> <span class="pre">list</span></code>
to see installed packages. This approach keeps the project
files all in one directory, rather than having the Python virtualenv in your
user folder somewhere else on the system. <code class="docutils literal notranslate"><span class="pre">uv</span></code> manages this automatically
without requiring additional configuration.</p>
</div>
</section>
<section id="setting-up-the-environment">
<h2>Setting up the environment<a class="headerlink" href="#setting-up-the-environment" title="Link to this heading">#</a></h2>
<p>To interact with the remote systems from which NexusLIMS harvests information,
it is necessary to provide credentials for authentication and the paths in which
to search for new data files and where to write dataset previews, as well as
the path to the <a class="reference internal" href="database.html"><span class="doc">NexusLIMS database</span></a>.
These values should be set by copying the <code class="docutils literal notranslate"><span class="pre">.env.example</span></code> file from the git
repository into a file named <code class="docutils literal notranslate"><span class="pre">.env</span></code> in the base directory (in the same folder
as the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> and <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> files).
<code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> makes use of the
<a class="reference external" href="https://pypi.org/project/python-dotenv/">dotenv</a> library to dynamically
load variables from this file when running any <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> code.
As an example, the  <code class="docutils literal notranslate"><span class="pre">.env</span></code> file content should look something like the
following (substituting real credentials, of course). See the
environment variables <a class="reference internal" href="api/nexusLIMS.html#nexuslims-user"><span class="std std-ref">documentation</span></a> for more
details.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">NX_CDCS_USER</span><span class="o">=</span><span class="s1">&#39;username&#39;</span>
<span class="nv">NX_CDCS_PASS</span><span class="o">=</span><span class="s1">&#39;password&#39;</span>
<span class="nv">NX_INSTRUMENT_DATA_PATH</span><span class="o">=</span><span class="s1">&#39;/path/to/mmfnexus/mount&#39;</span>
<span class="nv">NX_DATA_PATH</span><span class="o">=</span><span class="s1">&#39;/path/to/nexusLIMS/mount/mmfnexus&#39;</span>
<span class="nv">NX_DB_PATH</span><span class="o">=</span><span class="s1">&#39;/path/to/nexusLIMS/nexuslims_db.sqlite&#39;</span>
<span class="nv">NX_NEMO_ADDRESS_1</span><span class="o">=</span><span class="s1">&#39;https://path.to.nemo.com/api/&#39;</span>
<span class="nv">NX_NEMO_TOKEN_1</span><span class="o">=</span><span class="s1">&#39;authentication_token&#39;</span>
<span class="nv">NX_NEMO_STRFTIME_FMT_1</span><span class="o">=</span><span class="s2">&quot;%Y-%m-%dT%H:%M:%S%z&quot;</span>
<span class="nv">NX_NEMO_STRPTIME_FMT_1</span><span class="o">=</span><span class="s2">&quot;%Y-%m-%dT%H:%M:%S%z&quot;</span>
<span class="nv">NX_NEMO_TZ_1</span><span class="o">=</span><span class="s2">&quot;America/New_York&quot;</span>
</pre></div>
</div>
<p>Rather than using the <code class="docutils literal notranslate"><span class="pre">.env</span></code> file, each of these variables could also be set
in the environment some other way if you desire. For example, to use Gitlab
CI/CD tools, you would set these variables in your project’s CI/CD settings
(see <a class="reference external" href="https://docs.gitlab.com/ee/ci/variables/">their documentation</a>),
since you would not want to commit a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file into a remote repository
that contains authorization secrets (the equivalent is available in Github,
as well).</p>
</section>
<section id="getting-into-the-environment">
<h2>Getting into the environment<a class="headerlink" href="#getting-into-the-environment" title="Link to this heading">#</a></h2>
<p>Once the package is installed using <code class="docutils literal notranslate"><span class="pre">uv</span></code>, the code can be used
like any other Python library within the resulting virtual environment.</p>
<p><code class="docutils literal notranslate"><span class="pre">uv</span></code> allows you to run a single command inside that environment by
using the <code class="docutils literal notranslate"><span class="pre">uv</span> <span class="pre">run</span></code> command from the repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>python
</pre></div>
</div>
<p>To use other commands in the NexusLIMS environment, you can also “activate”
the environment using the <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">source</span> <span class="pre">.venv/bin/activate</span></code> command from within the cloned
repository. This will activate the virtual environment that ensures all commands will have
access to the installed packages and environment variables set appropriately.</p>
</section>
<section id="testing-and-documentation">
<h2>Testing and Documentation<a class="headerlink" href="#testing-and-documentation" title="Link to this heading">#</a></h2>
<p>To run the complete test suite, use the provided shell script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/run_tests.sh
</pre></div>
</div>
<p>This will run all tests with coverage reporting. To run specific tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pytest<span class="w"> </span>tests/test_extractors.py
</pre></div>
</div>
<p>To build the documentation for the project, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/build_docs.sh
</pre></div>
</div>
<p>The documentation should then be present in the <code class="docutils literal notranslate"><span class="pre">./_build/</span></code> directory.</p>
<p>To generate matplotlib baseline figures for the tests, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/generate_mpl_baseline.sh
</pre></div>
</div>
</section>
<section id="building-new-records">
<h2>Building new records<a class="headerlink" href="#building-new-records" title="Link to this heading">#</a></h2>
<p>The most basic feature of the NexusLIMS back-end is to check the
<a class="reference internal" href="database.html"><span class="doc">database</span></a> for any logs (typically inserted by the
NEMO harvester) with a status of
<code class="docutils literal notranslate"><span class="pre">'TO_BE_BUILT'</span></code>. This can be accomplished simply by running the
<a class="reference internal" href="api/nexusLIMS.builder.html#module-nexusLIMS.builder.record_builder" title="nexusLIMS.builder.record_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">record_builder</span></code></a> module directly via:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>nexuslims-process-records
</pre></div>
</div>
<p>This command will find any records that need to be built, build their .xml
files, and then upload them to the front-end CDCS instance. Consult the
record building <a class="reference internal" href="record_building.html"><span class="doc">documentation</span></a> for more details.</p>
</section>
<section id="using-other-features-of-the-library">
<h2>Using other features of the library<a class="headerlink" href="#using-other-features-of-the-library" title="Link to this heading">#</a></h2>
<p>Once you are in a python interpreter (such as <code class="docutils literal notranslate"><span class="pre">python</span></code>, <code class="docutils literal notranslate"><span class="pre">ipython</span></code>,
<code class="docutils literal notranslate"><span class="pre">jupyter</span></code>, etc.) from the <code class="docutils literal notranslate"><span class="pre">uv</span></code> environment, you can access the
code of this library through the <code class="docutils literal notranslate"><span class="pre">nexusLIMS</span></code> package if you want to do other
tasks, such as extracting metadata or building previews images, etc.</p>
<p>For example, to extract the metadata from a <code class="docutils literal notranslate"><span class="pre">.tif</span></code> file saved on the
FEI Quanta, run the following code using the
<a class="reference internal" href="api/nexusLIMS.extractors.html#nexusLIMS.extractors.quanta_tif.get_quanta_metadata" title="nexusLIMS.extractors.quanta_tif.get_quanta_metadata"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_quanta_metadata()</span></code></a> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">nexusLIMS.extractors.quanta_tif</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_quanta_metadata</span>
<span class="n">meta</span> <span class="o">=</span> <span class="n">get_quanta_metadata</span><span class="p">(</span><span class="s2">&quot;path_to_file.tif&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">meta</span></code> variable will then contain a dictionary with the extracted
metadata from the file.</p>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">#</a></h2>
<p>To contribute, please fork the repository, develop your addition on a
<a class="reference external" href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow">feature branch</a>
within your forked repo, and submit a pull request to the <code class="docutils literal notranslate"><span class="pre">main</span></code>
branch to have it included in the project. Contributing to the package
requires that every line of code is covered by a test case. This project uses
testing through the <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a> library,
and features that do not pass the test cases or decrease coverage will not be
accepted until suitable tests are included (see the <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory
for examples) and that the coverage of any new features is 100%.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the public version of this repository, the included tests will not run
due to the exclusion of test files and the expectation of certain files being
present. If you are contributing, please make sure <cite>your changes</cite> are covered
by tests, and the NexusLIMS developers will take care of integrating your
PR fully in the code after it is accepted.</p>
</div>
<p>To get information about test coverage, you can use an IDE that includes coverage tracking
(such as <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a>) or include the
<code class="docutils literal notranslate"><span class="pre">--cov</span></code> flag when running the tests. To test the preview image generation,
the <code class="docutils literal notranslate"><span class="pre">--mpl</span></code> option should also be provided, together with the path to
the <cite>“reference”</cite> images that are tested against. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>&lt;path_to_repo&gt;
$<span class="w"> </span>uv<span class="w"> </span>run<span class="w"> </span>./scripts/run_tests.sh

<span class="c1"># =============================================== test session starts =========================</span>
<span class="c1"># platform darwin -- Python 3.11.14, pytest-9.0.1, pluggy-1.6.0</span>
<span class="c1"># Matplotlib: 3.10.7</span>
<span class="c1"># Freetype: 2.6.1</span>
<span class="c1"># rootdir: /Users/josh/git_repos/datasophos/NexusLIMS</span>
<span class="c1"># configfile: pyproject.toml</span>
<span class="c1"># plugins: mpl-0.17.0, cov-7.0.0</span>
<span class="c1"># collected 303 items</span>
<span class="c1">#</span>
<span class="c1"># tests/cli/test_process_records.py ............................                         [  9%]</span>
<span class="c1"># tests/test___init__.py ........                                                        [ 11%]</span>
<span class="c1"># tests/test___main__.py .                                                               [ 12%]</span>
<span class="c1"># tests/test_cdcs.py .......                                                             [ 14%]</span>
<span class="c1"># tests/test_config.py ...................                                               [ 20%]</span>
<span class="c1"># tests/test_extractors/test_basic_metadata.py ..                                        [ 21%]</span>
<span class="c1"># tests/test_extractors/test_digital_micrograph.py .........                             [ 24%]</span>
<span class="c1"># tests/test_extractors/test_edax.py ..                                                  [ 25%]</span>
<span class="c1"># tests/test_extractors/test_extractor_module.py .................                       [ 30%]</span>
<span class="c1"># tests/test_extractors/test_fei_emi.py ........................                         [ 38%]</span>
<span class="c1"># tests/test_extractors/test_quanta_tif.py ......                                        [ 40%]</span>
<span class="c1"># tests/test_extractors/test_thumbnail_generator.py ...............................      [ 50%]</span>
<span class="c1"># tests/test_harvesters/test_nemo_api.py .........................................       [ 64%]</span>
<span class="c1"># tests/test_harvesters/test_nemo_connector.py ..............                            [ 68%]</span>
<span class="c1"># tests/test_harvesters/test_nemo_utils.py .........                                     [ 71%]</span>
<span class="c1"># tests/test_harvesters/test_reservation_event.py ......                                 [ 73%]</span>
<span class="c1"># tests/test_instruments.py .................                                            [ 79%]</span>
<span class="c1"># tests/test_record_builder/test_activity.py ........                                    [ 82%]</span>
<span class="c1"># tests/test_record_builder/test_record_builder.py ......................                [ 89%]</span>
<span class="c1"># tests/test_sessions.py ......                                                          [ 91%]</span>
<span class="c1"># tests/test_utils.py .........................                                          [ 99%]</span>
<span class="c1"># tests/test_version.py .                                                                [100%]</span>
<span class="c1">#                                                                                        [100%]</span>
<span class="c1"># =============================================== tests coverage ==============================</span>
<span class="c1"># _____________________________ coverage: platform darwin, python 3.11.14-final-0 _____________</span>
<span class="c1">#</span>
<span class="c1"># Name                                          Stmts   Miss  Cover   Missing</span>
<span class="c1"># ---------------------------------------------------------------------------</span>
<span class="c1"># nexusLIMS/__init__.py                            18      0   100%</span>
<span class="c1"># nexusLIMS/__main__.py                             3      0   100%</span>
<span class="c1"># nexusLIMS/builder/__init__.py                     0      0   100%</span>
<span class="c1"># nexusLIMS/builder/record_builder.py             197      0   100%</span>
<span class="c1"># nexusLIMS/cdcs.py                                73      0   100%</span>
<span class="c1"># nexusLIMS/cli/__init__.py                         0      0   100%</span>
<span class="c1"># nexusLIMS/cli/process_records.py                129      0   100%</span>
<span class="c1"># nexusLIMS/config.py                             153      0   100%</span>
<span class="c1"># nexusLIMS/db/__init__.py                          7      0   100%</span>
<span class="c1"># nexusLIMS/db/session_handler.py                  89      0   100%</span>
<span class="c1"># nexusLIMS/extractors/__init__.py                103      0   100%</span>
<span class="c1"># nexusLIMS/extractors/basic_metadata.py           14      0   100%</span>
<span class="c1"># nexusLIMS/extractors/digital_micrograph.py      278      0   100%</span>
<span class="c1"># nexusLIMS/extractors/edax.py                     33      0   100%</span>
<span class="c1"># nexusLIMS/extractors/fei_emi.py                 200      0   100%</span>
<span class="c1"># nexusLIMS/extractors/quanta_tif.py              237      0   100%</span>
<span class="c1"># nexusLIMS/extractors/thumbnail_generator.py     402      0   100%</span>
<span class="c1"># nexusLIMS/extractors/utils.py                   163      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/__init__.py                  5      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/__init__.py            33      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/connector.py          244      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/exceptions.py           2      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/nemo/utils.py               68      0   100%</span>
<span class="c1"># nexusLIMS/harvesters/reservation_event.py       130      0   100%</span>
<span class="c1"># nexusLIMS/instruments.py                         91      0   100%</span>
<span class="c1"># nexusLIMS/schemas/__init__.py                     0      0   100%</span>
<span class="c1"># nexusLIMS/schemas/activity.py                   173      0   100%</span>
<span class="c1"># nexusLIMS/utils.py                              240      0   100%</span>
<span class="c1"># nexusLIMS/version.py                              2      0   100%</span>
<span class="c1"># ---------------------------------------------------------------------------</span>
<span class="c1"># TOTAL                                          3087      0   100%</span>
<span class="c1"># Coverage HTML written to dir tests/coverage</span>
<span class="c1"># Coverage XML written to file coverage.xml</span>
<span class="c1"># ============================= 303 passed in 33.51s =================</span>
<span class="c1"># &gt;&gt;&gt; elapsed time 39s</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dev_guide.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Developer Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="database.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">NexusLIMS database</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-the-environment">Setting up the environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-into-the-environment">Getting into the environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-and-documentation">Testing and Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-new-records">Building new records</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-other-features-of-the-library">Using other features of the library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contributing">Contributing</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/development.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, datasophos, LLC.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>